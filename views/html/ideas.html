{{ template "header" . }}

<svg>
    {{ svg "thumbs-up-light" }}
    {{ svg "thumbs-down-light" }}
</svg>

{{ define "ideaGrid" }}{{ range . }}
{{ with .Hole }}
    <a class="card {{ .CategoryColor }}"
    {{ if $.Golfer }}
        {{ $lang := index $.Golfer.Settings "home" "points-for" }}
        href='/{{ .ID }}{{ if ne $lang "all" }}#{{ $lang }}{{ end }}'
    {{ else }}
        href="/{{ .ID }}"
    {{ end }}
        title="{{ .Name }} ({{ .Category }})">
{{ else }}
    {{ $class := "red" }}
    {{ if eq .Category "cheeevo" }}
        {{ $class = "green" }}
    {{ else if eq .Category "hole" }}
        {{ $class = "purple" }}
    {{ else if eq .Category "lang" }}
        {{ $class = "yellow" }}
    {{ end }}

    <a class="card {{ $class }}" href="//github.com/code-golf/code-golf/issues/{{ .ID }}" title="{{ .Title }}">
{{ end }}
        <h2 class=span>
            {{ with .Lang }}{{ svg .ID }}{{ end }}
            <span>{{ .Title }}</span>
        </h2>
        <svg><use href="#thumbs-up"/></svg>
        {{ .ThumbsUp }}

        {{ with .Hole }}{{ svg .CategoryIcon }}{{ else }}<span></span>{{ end }}

        <svg><use href="#thumbs-down"/></svg>
        {{ .ThumbsDown }}
    </a>
{{ end }}{{ end }}

<header id=page-header>
    <h1>Ideas</h1>
    <nav>
        <a href="//github.com/code-golf/code-golf/issues/new/choose">
            Add an Idea
        </a>
    </nav>
</header>

<main>
{{ with .Data.Holes }}
    <details open>
        <summary>Experimental Holes ({{ len . }})</summary>
        <div>{{ template "ideaGrid" . }}</div>
    </details>
{{ end }}
{{ with .Data.Langs }}
    <details open>
        <summary>Experimental Languages ({{ len . }})</summary>
        <div>{{ template "ideaGrid" . }}</div>
    </details>
{{ end }}
{{ with .Data.Ideas }}
    <details open>
        <summary>Other Ideas ({{ len . }})</summary>
        <div>{{ template "ideaGrid" . }}</div>
    </details>
{{ end }}
</main>

{{ template "footer" }}
